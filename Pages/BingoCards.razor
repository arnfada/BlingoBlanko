@page "/BingoCards"
@page "/BingoCards/{PassCode}/{NumberOfCards:int}"
@using BlinkoBlanko.Bingo
@inject HttpClient Http

<PageTitle>Bingo cards</PageTitle>

<h1>Bingo cards:</h1>

@for (int i = 0; i < BingoPlates.Plates.Count; i++)
{
    <BingoCard Plate=@BingoPlates.Plates[i] />

    @if (i > 0 && (i + 1) % 3 == 0)
    {
        <!-- Page break when printing-->
        <div class="pagebreak" style="page-break-before: always;">&nbsp;</div>
    }
}

@code {
    [Parameter]
    public int? NumberOfCards { get; set; } = 50;

    [Parameter]
    public string? PassCode { get; set; } = "1234";

    private BingoPlates BingoPlates = new BingoPlates();

    protected override void OnInitialized()
    {
        BingoPlates.Generate(PassCode, NumberOfCards);
    }

    //protected override async Task OnInitializedAsync()
        //{
    //}
}
